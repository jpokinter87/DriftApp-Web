---
phase: 01-foundation-stack-setup
plan: 02
type: execute
wave: 1
depends_on: ["01-01"]
files_modified:
  - web/static/css/tailwind-input.css
autonomous: true
---

<objective>
## Goal
Creer la bibliotheque de composants Tailwind reutilisables (boutons, inputs, badges, modales, logs) qui seront necessaires pour la migration des 3 pages en Phases 2-4.

## Purpose
Les pages dashboard, system et session partagent des patterns UI communs (boutons, inputs, indicateurs de status, logs). Definir ces composants une fois dans Tailwind evite la duplication lors de chaque migration de page.

## Output
- `web/static/css/tailwind-input.css` enrichi avec les composants @layer components
- CSS recompile via scripts/build_css.sh
</objective>

<context>
## Project Context
@.paul/PROJECT.md
@.paul/ROADMAP.md

## Prior Work
@.paul/phases/01-foundation-stack-setup/01-01-SUMMARY.md

## Source Files (patterns existants a reproduire)
@web/static/css/dashboard.css (btn, btn-primary, btn-jog, btn-stop, goto-group, log-entry, modal)
@web/static/css/system.css (card patterns, status indicators)
@web/static/css/session.css (stat cards, tab switcher)
</context>

<acceptance_criteria>

## AC-1: Composants boutons complets
```gherkin
Given le fichier tailwind-input.css definit .btn, .btn-primary, .btn-danger, .btn-jog, .btn-stop
When on utilise class="btn btn-primary" dans un template
Then le bouton a le style correct (fond accent, hover, disabled state)
```

## AC-2: Composants formulaire
```gherkin
Given le fichier definit .input-field et .input-group
When on utilise class="input-field" sur un input
Then l'input a le fond obs-input, bordure obs-border, focus accent-amber
```

## AC-3: Composants indicateurs et badges
```gherkin
Given le fichier definit .badge, .badge-mode-normal, .badge-mode-critical, .badge-mode-continuous
When on utilise class="badge badge-mode-normal"
Then le badge affiche le style correct avec couleur de mode
```

## AC-4: Composant log entries
```gherkin
Given le fichier definit .log-entry, .log-entry-error, .log-entry-success, .log-entry-warning
When on utilise ces classes dans une section de logs
Then les entries sont stylees avec la couleur appropriee
```

## AC-5: Composant modal overlay
```gherkin
Given le fichier definit .modal-overlay et .modal-content
When on utilise ces classes avec Alpine.js x-show
Then la modale s'affiche avec fond semi-transparent et animation
```

</acceptance_criteria>

<tasks>

<task type="auto">
  <name>Task 1: Ajouter les composants boutons et formulaires</name>
  <files>web/static/css/tailwind-input.css</files>
  <action>
    Ajouter dans @layer components du fichier tailwind-input.css existant:

    1. Boutons (reproduire les patterns de dashboard.css):
       .btn — base: padding, rounded, font-mono, text-sm, transition, cursor-pointer
       .btn:disabled — opacity reduite, cursor not-allowed
       .btn-primary — bg accent-amber/20, text accent-amber, hover bg accent-amber/30
       .btn-secondary — bg obs-input, text obs-text-secondary, hover bg obs-hover
       .btn-danger — bg accent-red/20, text accent-red, hover bg accent-red/30
       .btn-jog — bg obs-input, text obs-text, hover bg obs-hover, font-mono
       .btn-stop — bg accent-red/20, text accent-red, font-bold, hover bg accent-red/30
       .btn-continuous — bg obs-input, text obs-text-secondary, hover bg accent-amber/20
       .btn-continuous.active — bg accent-amber/20, text accent-amber

    2. Formulaires:
       .input-field — bg obs-input, border obs-border, rounded, text obs-text, focus border accent-amber, outline-none
       .input-group — flex, gap, items-center (input + bouton cote a cote)
       .search-input — comme input-field mais avec padding-left pour icone

    Reproduire fidelement les styles de dashboard.css lignes 455-600
    Ne PAS supprimer les composants existants (.panel, .status-dot)
  </action>
  <verify>
    bash /home/jp/PythonProject/Dome_web_v4_6/scripts/build_css.sh
    Compilation sans erreur
  </verify>
  <done>AC-1 et AC-2 satisfaits</done>
</task>

<task type="auto">
  <name>Task 2: Ajouter badges, logs, modale et utilitaires</name>
  <files>web/static/css/tailwind-input.css</files>
  <action>
    Continuer dans @layer components:

    1. Badges de mode tracking:
       .badge — inline-flex, items-center, px-2, py-0.5, rounded-badge, text-xs, font-mono
       .badge-mode-normal — bg accent-green/15, text accent-green
       .badge-mode-critical — bg accent-orange/15, text accent-orange
       .badge-mode-continuous — bg accent-red/15, text accent-red

    2. Log entries:
       .log-entry — text-xs, font-mono, py-1, border-b border-obs-border/50
       .log-entry-error — text accent-red
       .log-entry-success — text accent-green
       .log-entry-warning — text accent-orange
       .log-container — max-h-40, overflow-y-auto, bg obs-dark, rounded, p-2

    3. Modal:
       .modal-overlay — fixed inset-0, bg-black/60, backdrop-blur-sm, z-50, flex items-center justify-center
       .modal-content — bg obs-panel, border obs-border, rounded-panel, shadow-panel, p-6, max-w-lg, w-full, animate-slide-up

    4. Section headers:
       .section-title — font-display, font-semibold, text accent-amber, text-sm, uppercase, tracking-wide
       .section-divider — border-t border-obs-border, my-4

    5. Info grid (dashboard position info):
       .info-grid — grid, grid-cols-2, gap-2, text-xs, font-mono
       .info-label — text obs-text-muted
       .info-value — text obs-text

    6. Stat card (session page):
       .stat-card — panel + flex flex-col items-center gap-1
       .stat-value — text-2xl, font-display, font-bold, text accent-amber
       .stat-label — text-xs, text obs-text-muted, uppercase

    Ne PAS modifier les composants des Tasks precedentes
  </action>
  <verify>
    bash /home/jp/PythonProject/Dome_web_v4_6/scripts/build_css.sh
    Compilation sans erreur
  </verify>
  <done>AC-3, AC-4 et AC-5 satisfaits</done>
</task>

</tasks>

<boundaries>

## DO NOT CHANGE
- web/templates/base.html (cree en 01-01, stable)
- web/templates/dashboard.html, system.html, session.html (pages existantes)
- web/static/css/dashboard.css, system.css, session.css (CSS legacy, coexistence)
- web/static/js/*.js (JS existant)
- core/, services/ (logique metier)

## SCOPE LIMITS
- Ce plan ajoute UNIQUEMENT des composants CSS dans tailwind-input.css
- Pas de modification de templates HTML
- Pas de nouveau fichier — enrichissement du fichier existant
- Pas de JavaScript — composants CSS purs (Alpine.js pour interactivite en Phase 2+)

</boundaries>

<verification>
Before declaring plan complete:
- [ ] scripts/build_css.sh compile sans erreur
- [ ] tailwind-output.css contient les nouvelles classes (.btn, .input-field, .badge, .modal-overlay, etc.)
- [ ] Composants existants (.panel, .status-dot) toujours presents
- [ ] Le serveur Django demarre sans erreur
- [ ] Pages existantes fonctionnent toujours
</verification>

<success_criteria>
- Tailwind compile avec tous les composants
- Bibliotheque couvre: boutons (7 variantes), inputs (3), badges (3 modes), logs (4), modal (2), info/stat patterns
- Zero regression
</success_criteria>

<output>
After completion, create `.paul/phases/01-foundation-stack-setup/01-02-SUMMARY.md`
</output>
